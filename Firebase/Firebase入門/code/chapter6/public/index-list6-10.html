<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <script defer src="/__/firebase/6.2.0/firebase-app.js"></script>
    <script defer src="/__/firebase/6.2.0/firebase-functions.js"></script>
    <script defer src="/__/firebase/init.js"></script>

    <style media="screen">
      body { background: white; color: #666699; font-family: Roboto, Helvetica, Arial, sans-serif; margin: 10px; padding: 10px; }
    </style>
    <script>
        //var functions = firebase.functions();

        function loaded(){
            let hello = firebase.functions().httpsCallable('helloWorld');
            hello({}).then((result)=>{
                console.log(result.data);
                let people = result.data.people;
                let res = '<h1>Firebase Sample.</h1>';
                res += '<ol>';
                for (let i in people){
                    let ob = people[i];
                    res += '<li>' + ob.name + ' [' + ob.mail + ':' + ob.age + ']</li>';
                }
                res += '</ol>';
                document.querySelector('#app').innerHTML = res;
            });
        }
    </script>
  </head>
  <body onload="loaded();">
    <div id="app">wait...</div>
  </body>
</html>
